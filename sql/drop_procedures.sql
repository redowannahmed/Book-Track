-- =====================================================
-- DROP ALL USER MANAGEMENT PROCEDURES AND FUNCTIONS
-- =====================================================

-- Drop procedures
BEGIN
    EXECUTE IMMEDIATE 'DROP PROCEDURE sp_rate_book';
EXCEPTION
    WHEN OTHERS THEN NULL;
END;
/

BEGIN
    EXECUTE IMMEDIATE 'DROP PROCEDURE sp_review_book';
EXCEPTION
    WHEN OTHERS THEN NULL;
END;
/

BEGIN
    EXECUTE IMMEDIATE 'DROP FUNCTION fn_get_user_rating';
EXCEPTION
    WHEN OTHERS THEN NULL;
END;
/

BEGIN
    EXECUTE IMMEDIATE 'DROP FUNCTION fn_get_user_review';
EXCEPTION
    WHEN OTHERS THEN NULL;
END;
/

BEGIN
    EXECUTE IMMEDIATE 'DROP PROCEDURE sp_delete_rating';
EXCEPTION
    WHEN OTHERS THEN NULL;
END;
/

BEGIN
    EXECUTE IMMEDIATE 'DROP PROCEDURE sp_delete_review';
EXCEPTION
    WHEN OTHERS THEN NULL;
END;
/

BEGIN
    EXECUTE IMMEDIATE 'DROP FUNCTION fn_get_book_reviews';
EXCEPTION
    WHEN OTHERS THEN NULL;
END;
/